# PWA Setup Guide for EZ-Vendo

This guide explains how to set up Progressive Web App (PWA) functionality for EZ-Vendo.

## What's Included

1. **Service Worker**: Automatically generated by `next-pwa` for offline functionality
2. **Web App Manifest**: Defines how the app appears when installed
3. **Icons**: App icons for different device sizes
4. **Caching Strategy**: Smart caching for better performance

## Setup Steps

### 1. Generate Icons

You need to create two icon files in the `public` folder:
- `icon-192x192.png` (192x192 pixels)
- `icon-512x512.png` (512x512 pixels)

#### Option A: Using the Icon Generator Script

1. Install sharp (if not already installed):
   ```bash
   npm install sharp --save-dev
   ```

2. Place your logo/image at `public/ez-vendo-id.png`

3. Run the generator:
   ```bash
   node public/icon-generator.js
   ```

#### Option B: Manual Creation

1. Create or find your app logo/icon
2. Resize it to 192x192 pixels and save as `public/icon-192x192.png`
3. Resize it to 512x512 pixels and save as `public/icon-512x512.png`

### 2. Build and Test

1. Build the application:
   ```bash
   npm run build
   ```

2. Start the production server:
   ```bash
   npm start
   ```

3. Test PWA installation:
   - **Chrome/Edge**: Look for the install icon in the address bar
   - **Mobile**: Use "Add to Home Screen" option
   - **DevTools**: Open Application tab > Manifest to verify

## Features

### Offline Support
The service worker caches:
- Static assets (images, fonts, CSS, JS)
- API responses (with network-first strategy)
- Pages (with network-first strategy)

### Installation
Users can install the app on:
- **Desktop**: Chrome, Edge, Safari
- **Mobile**: iOS Safari, Android Chrome
- **Tablets**: All major browsers

### App Shortcuts
Quick access to:
- Dashboard (`/dashboard`)
- Admin Panel (`/admin/dashboard`)

## Configuration

### Disable PWA in Development
PWA is automatically disabled in development mode. To enable it:
1. Edit `next.config.mjs`
2. Remove or modify: `disable: process.env.NODE_ENV === "development"`

### Customize Manifest
Edit `public/manifest.json` to customize:
- App name and description
- Theme colors
- Display mode
- Icons and shortcuts

### Cache Strategies
The app uses different caching strategies:
- **CacheFirst**: For fonts and static assets
- **StaleWhileRevalidate**: For images and styles
- **NetworkFirst**: For API calls and pages

## Troubleshooting

### Icons Not Showing
- Ensure icons exist in `public/` folder
- Check file names match manifest.json
- Verify file sizes are correct

### Service Worker Not Registering
- Check browser console for errors
- Ensure you're using HTTPS (required for PWA)
- Clear browser cache and reload

### App Not Installable
- Verify manifest.json is valid
- Check that icons are accessible
- Ensure service worker is registered
- Use HTTPS (required for installation)

## Testing Checklist

- [ ] Icons are generated and visible
- [ ] Manifest.json is accessible at `/manifest.json`
- [ ] Service worker is registered (check DevTools > Application > Service Workers)
- [ ] App can be installed on desktop
- [ ] App can be installed on mobile
- [ ] Offline functionality works (disable network and test)
- [ ] App shortcuts work
- [ ] Theme color matches app design

## Notes

- PWA features require HTTPS in production
- Service worker is disabled in development mode
- Icons should be square and optimized for web
- Test on multiple devices and browsers

